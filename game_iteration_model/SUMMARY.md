# IMC Prosperity 宝箱选择优化分析总结

## 问题概述

在IMC Prosperity比赛中，玩家需要从10个宝箱中选择1到2个，以最大化获得的宝藏（SeaShells）。每个宝箱有特定的乘数和inhabitants，玩家的选择会影响最终利润。

## 宝箱数据

| 宝箱编号 | 乘数 | inhabitants | M/H比率 | 基础效用 |
|----------|------|-------------|---------|----------|
| 1        | 80   | 6           | 13.33   | 11.43    |
| 2        | 37   | 3           | 12.33   | 9.25     |
| 3        | 10   | 1           | 10.00   | 5.00     |
| 4        | 31   | 2           | 15.50   | 10.33    |
| 5        | 17   | 1           | 17.00   | 8.50     |
| 6        | 90   | 10          | 9.00    | 8.18     |
| 7        | 50   | 4           | 12.50   | 10.00    |
| 8        | 20   | 2           | 10.00   | 6.67     |
| 9        | 73   | 4           | 18.25   | 14.60    |
| 10       | 89   | 8           | 11.12   | 9.89     |

## 模型参数设置

我们重新评估了模型参数，以更好地反映专业比赛环境中玩家的实际行为：

- **理性玩家比例 (rational_pct)**: 从0.2提高到0.35，因为专业比赛环境中理性决策者比例更高
- **启发式玩家比例 (heuristic_pct)**: 从0.5调整到0.45，维持在较高水平
- **第二宝箱选择比例 (second_box_pct)**: 从0.1降低到0.05，考虑到高成本(50,000)下，选择第二个宝箱的玩家比例较低
- **第二选择理性因子 (second_choice_rational_factor)**: 设置为0.7，反映选择第二个宝箱的玩家可能不那么理性

这些调整是基于对实际玩家行为的推理：由于第二个宝箱成本高昂，真正理性的玩家可能会避免这个选择，而选择第二个宝箱的玩家更可能是风险偏好型或依赖启发式决策的玩家。

## 分析方法

我们采用了综合分析方法，包括：

1. **基准模型分析**：基于更新后的玩家行为参数模拟宝箱选择
2. **多情景分析**：考虑不同玩家行为分布的多种情景
3. **蒙特卡洛模拟**：通过随机模拟评估不确定性和风险
4. **反向博弈分析**：考虑主流选择和差异化价值
5. **参数敏感性分析**：测试不同参数设置对最终结果的影响
6. **高级策略分析**：应用认知层次、行为经济学和社会动态模型

## 关键发现

### 基准模型分析

在更新的基准模型下（35%理性玩家，45%启发式玩家，5%选择第二宝箱）：

- 最佳单选宝箱：**宝箱10**，预期收益：43,990.88
- 最佳双选组合：**宝箱6+宝箱10**，预期净收益：36,528.88

### 多情景分析

在所有测试情景中：

- 宝箱10在单选策略中表现最佳（在所有测试情景中都是最优选择）
- 宝箱6+宝箱10是最常见的最优双选组合
- 在无第二选择情景下，宝箱10的收益最高，达到45,314.43
- 宝箱6的收益波动性最低（方差：389,284.93），表明其较为稳定

### 情景对比结果

| 情景 | 单选最佳宝箱 | 预期收益 | 双选最佳组合 | 净收益 |
|------|------------|----------|------------|--------|
| 基本修正情景 | 宝箱10 | 43,990.88 | 宝箱6+宝箱10 | 36,528.88 |
| 高理性情景 | 宝箱10 | 43,203.18 | 宝箱1+宝箱10 | 35,249.16 |
| 高启发式情景 | 宝箱10 | 44,069.39 | 宝箱6+宝箱10 | 37,092.90 |
| 原始参数情景 | 宝箱10 | 43,822.00 | 宝箱6+宝箱10 | 36,267.03 |
| 第二选择完全随机 | 宝箱10 | 44,077.49 | 宝箱6+宝箱10 | 36,714.97 |
| 第二选择高度理性 | 宝箱10 | 43,892.17 | 宝箱6+宝箱10 | 36,316.95 |
| 无第二选择 | 宝箱10 | 45,314.43 | 宝箱1+宝箱10 | 39,048.24 |

### 第二宝箱比例与理性因子影响

- 随着第二宝箱选择比例的增加，单选宝箱的收益普遍下降
- 第二宝箱选择比例为0时，单选策略收益最高
- 低理性因子(0.5-0.7)比高理性因子(1.0-1.5)更符合实际情况
- 在所有测试的参数组合中，单选策略始终优于双选策略

### 蒙特卡洛模拟

通过1,000次模拟：

- 最佳单选宝箱：**宝箱10**，平均收益：45,975.09，标准差：5,503.24
- 最佳双选组合：**宝箱10+宝箱1**，平均净收益：40,674.80
- 宝箱6表现出最高的夏普比率（9.93），表明其风险调整后收益最佳

### 高级策略分析

应用认知层次理论、行为经济学和社会动态模型进行更深入分析：

#### 认知层次分析
- 不同思考层次的玩家倾向于选择不同的宝箱
- 0级玩家（随机选择）平均分布在所有宝箱上
- 1级玩家（预测0级玩家并做出反应）显著偏好宝箱10
- 2级和3级玩家表现出更复杂的混合策略，但仍然偏向宝箱10
- 考虑人群中不同思考层次分布，宝箱10是认知层次模型的最优选择

#### 行为经济学分析
- 应用前景理论，考虑损失厌恶（系数2.25）和价值函数曲率（0.88）
- 分析行为偏见，包括锚定效应、代表性启发式和可得性启发式
- 考虑情绪因素对决策的影响
- 宝箱10在行为经济学分析中表现最佳，表明其在考虑人类非理性决策特征下仍然稳健

#### 社会动态分析
- 模拟社交网络中的策略传播与影响
- 分析社会规范的形成与演化
- 随着时间推移，宝箱选择趋于集中在少数几个选项
- 社会动态模拟的稳定状态强烈偏好宝箱10

#### 元策略分析
- 基于上述模型预测对手策略分布
- 计算最优反应策略
- 考虑玩家之间的策略互动
- 元策略分析再次确认宝箱10是最优选择

#### 高级策略综合结果
- 不同模型之间存在高度一致性，多数模型选择宝箱10为最佳
- 风险调整后的得分表明宝箱10具有最佳的风险-收益平衡
- 全面考虑各种因素后，宝箱10是单选策略的明确最优选择

## 最终建议

### 主要建议

**选择宝箱10（乘数89，inhabitants 8）**

理由：
- 在基础模型和高级策略分析中均为单选最优选择
- 在所有情景下均为最优或近乎最优
- 在蒙特卡洛模拟中表现稳定
- 在考虑认知层次、行为偏见和社会动态后仍然最优
- 单选策略的收益远超任何双选策略（考虑第二个宝箱的50,000成本）

### 备选策略

1. **风险厌恶策略**：选择宝箱6（乘数90，inhabitants 10）
   - 最高的夏普比率（9.93）和最低的收益波动性
   - 适合风险厌恶型玩家

2. **保守策略**：选择宝箱1（乘数80，inhabitants 6）
   - 稳定的高收益（42,339.74）
   - 在各种情景下表现一致

## 结论

综合考虑基础模型分析和高级策略分析的结果，我们的最终建议是选择**宝箱10**作为单选策略。这个选择在各种模型、情景和模拟中均表现最佳，提供了最高的期望收益和良好的风险-收益平衡。

高级策略分析进一步证实了基本模型的结论，通过应用认知层次理论、行为经济学和社会动态模型，增强了我们对最优选择的信心。即使考虑到人类决策中的非理性因素、社会影响和策略互动，宝箱10仍然是最稳健的选择。

此外，分析表明双选策略在考虑50,000成本后，收益普遍低于单选策略，因此不建议选择第二个宝箱。

---

*分析由先进的宝箱选择优化模型和高级策略分析模块完成，使用了更新的玩家行为参数设置和多种理论模型。* 